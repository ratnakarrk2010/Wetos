@model IEnumerable<WetosMVC.Models.HoldSalaryModel>
@{
    ViewBag.Title = "Hold Salary List";
}
@System.Web.Optimization.Styles.Render("~/Content/DataTable")
@System.Web.Optimization.Scripts.Render("~/bundles/DataTable")
<link href="~/Content/allcss/allcss.css" rel="stylesheet" />
<link href="~/Content/css/holdsalary_index.css" rel="stylesheet" />

<div class="page-content-wrapper" id="page_content">
    <div class="page-content">
        <section class="content-header">
            <div class="row page-breadcrumb breadcrumb ed_breadcrumb">
                <div class="col-sm-6">
                    <ul>
                        <li class="li_margin1">
                            <img src="~/Content/images/icon/home_1.png" class="home_width_height" />
                            <a href="@Url.Action("Index", "Home")">Home</a><i class="fa fa-angle-right"></i>

                        </li>
                        <li class="li_margin">
                         <a href="#">Payroll</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <li class="li_margin">
                            <a href="@Url.Action("Index", "HoldSalary")">Salary On Hold List </a>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-6">
                    <ul style="float: right;">
                        <li class="">
                            <div id="dashboard-report margin_left" data-toggle="tooltip" title="Today's date">
                                <img src="~/Content/images/icon/imageedit_42.png" class="icon_width_height" />
                                <span>
                                    @DateTime.Now.ToLongDateString()
                                </span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
             <h1>Salary on Hold
        <small>List</small>
         <span data-toggle="tooltip" title="Add to Salary on Hold List" style="float:right;font-weight:800" onclick="ÖnAddHoldSalaryClick();">
         @Html.ActionLink(" ", "Create", new { }, new { @class = "fa fa-plus-circle", title = "Add to Slary Hold List", style = "color:#428bca;font-size:19px" })</span>
            </h1>
            @*Added by Pushkar For back breadcrumb on 24 OCT 2016----------Start*@
            <div style="clear: both;"></div>
            @*Added by Pushkar For back breadcrumb on 24 OCT 2016-----------End*@
        </section>
        <section class="content">           
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                       
                        <div class="box-body">

                            <table id="HoldSalaryIndex" class="table table-bordered table-striped">
                                <thead>
                                <tr>
                                <td>
                                    @Html.DisplayNameFor(model => model.EmployeeName)
                                </td>
                                <td>
                                    @Html.DisplayNameFor(model => model.Reason)
                                </td>
                                <td>
                                    @Html.DisplayNameFor(model => model.HoldStatus)
                                </td>
                                @*<td>
                                    @Html.DisplayNameFor(model => model.SalaryHoldBy)
                                </td>
                                <td>
                                    @Html.DisplayNameFor(model => model.SalaryHoldOn)
                                </td>
                                <td>
                                    @Html.DisplayNameFor(model => model.SalaryUnHoldBy)
                                </td>
                                <td>
                                    @Html.DisplayNameFor(model => model.SalaryUnHoldOn)
                                </td>*@
                                <td>
                                Hold From
                                   @* @Html.DisplayNameFor(model => model.FromSalaryMonth) @Html.DisplayNameFor(model => model.FromSalaryYear)*@
                                </td>
                               @* <td>
                                    @Html.DisplayNameFor(model => model.FromSalaryYear)
                                </td>*@
                                <td>
                                 Hold Till
                                   @* @Html.DisplayNameFor(model => model.ToSalaryMonth)*@
                                </td>
                                @*<td>
                                    @Html.DisplayNameFor(model => model.ToSalaryYear)
                                </td>*@
                                <td></td>
                            </tr>
                            </thead>
                            <tbody>
                           

                        @foreach (var item in Model)
                        {
                            <tr>
                            @Html.HiddenFor(modelItem => item.EmployeeId)
                            @Html.HiddenFor(modelItem => item.HoldSalaryId)
                                <td>
                                <a href="@Url.Action("Details", "HoldSalary", new { id = item.HoldSalaryId })" style="cursor:pointer; float:left" title = "Click to check Salary on Hold Details"/>
                                    @Html.DisplayFor(modelItem => item.EmployeeName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Reason)
                                </td>
                                <td>
                                @if (item.HoldStatus <= 1 || item.HoldStatus == null)
                                {
                                    <span>On Hold</span>
                                }
                                else
                                {
                                    <span>UnHold</span>
                                }
                                    @*@Html.DisplayFor(modelItem => item.HoldStatus)*@
                                </td>
                                @*<td>
                                    @Html.DisplayFor(modelItem => item.SalaryHoldBy)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SalaryHoldOn)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SalaryUnHoldBy)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SalaryUnHoldOn)
                                </td>*@
                              @*  <td>
                                    @Html.DisplayFor(modelItem => item.FromSalaryMonth)/@Html.DisplayFor(modelItem => item.FromSalaryYear)
                                </td>                                
                                <td>
                                    @Html.DisplayFor(modelItem => item.ToSalaryMonth)/ @Html.DisplayFor(modelItem => item.ToSalaryYear)
                                </td>*@

                                  <td>
                                    @Html.DisplayFor(modelItem => item.FromDate)
                                </td>                                
                                <td>
                                    @Html.DisplayFor(modelItem => item.ToDate)
                                </td>
                              
                                <td>
                                    @Html.ActionLink("Edit", "Edit", new { id = item.HoldSalaryId }) |
                                    @Html.ActionLink("Details", "Details", new { id = item.HoldSalaryId }) 
                                    |
                                    @if ((item.HoldStatus <= 1 || item.HoldStatus == null) && item.EmployeeResigned != 1)
                                    {
                                        @Html.ActionLink("Un Hold", "UnHoldSalary", new { id = item.HoldSalaryId })
                                    }
                                   
                                </td>
                            </tr>
                        }
                        </tbody>
                                <tfoot>
                                </tfoot>


                            </table>

                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->

                    <!-- /.box -->
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </section>
    </div>
</div>
@*Added by Pushkar For back breadcrumb on 24 OCT 2016-------start*@
<script type="text/jscript">
    $(document).ready(function () {
        $('.back').click(function () {
            parent.history.back();
            return false;
        });
    });

    function goBack() {
        window.history.back();
    }



</script>
@*Added by Pushkar For back breadcrumb on 24 OCT 2016---------end*@ @*Added by Pushkar For datatable on 25 OCT 2016-------start*@
<script type="text/jscript">
    $(function () {

        $("#HoldSalaryIndex").DataTable();

    });
</script>
@*Added by Pushkar For datatable on 25 OCT 2016-------end*@ @*Added by Shalaka For progress ring on 21st June 2017*----Start*@
<script type="text/javascript">

    // OnAddCompanyClick function to open Company master create
    function ÖnAddHoldSalaryClick() {
        showloading();
    }
    
</script>
@*End*@ 